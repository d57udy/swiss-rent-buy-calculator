{
  "tests": [
    {
      "name": "Backend Validation Test",
      "description": "Validates 8,415 calculations against moneyland.ch data + auto-calculations",
      "script": "backend-validation-test.js",
      "timeout": 300000,
      "critical": true,
      "status": "PASSED",
      "exitCode": 0,
      "duration": 354,
      "output": "🧮 Swiss Rent vs Buy Calculator - Backend Validation Test\n============================================================\n📂 Loading test data from: /workspace/output-002.csv\n✅ Loaded 8415 test cases from moneyland.ch data\n\n🔍 Running validation tests...\n\n✅ Test 1: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0% yield\n   Result: BUY +CHF 472,454\n   vs ML:  BUY +CHF 472,454\n\n✅ Test 2: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0% yield\n   Result: BUY +CHF 574,735\n   vs ML:  BUY +CHF 574,735\n\n✅ Test 3: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0% yield\n   Result: BUY +CHF 681,699\n   vs ML:  BUY +CHF 681,699\n\n✅ Test 4: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0% yield\n   Result: BUY +CHF 793,536\n   vs ML:  BUY +CHF 793,536\n\n✅ Test 5: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0% yield\n   Result: BUY +CHF 910,443\n   vs ML:  BUY +CHF 910,443\n\n✅ Test 6: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0.5% yield\n   Result: BUY +CHF 460,032\n   vs ML:  BUY +CHF 460,032\n\n✅ Test 7: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0.5% yield\n   Result: BUY +CHF 562,313\n   vs ML:  BUY +CHF 562,313\n\n✅ Test 8: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0.5% yield\n   Result: BUY +CHF 669,277\n   vs ML:  BUY +CHF 669,277\n\n✅ Test 9: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0.5% yield\n   Result: BUY +CHF 781,114\n   vs ML:  BUY +CHF 781,114\n\n✅ Test 10: PASSED\n   Parameters: CHF 2,000,000, 0.9% mortgage, 0.5% yield\n   Result: BUY +CHF 898,021\n   vs ML:  BUY +CHF 898,021\n\n✅ Progress: 1000 tests completed (1000 passed, 0 failed)\n✅ Progress: 2000 tests completed (2000 passed, 0 failed)\n✅ Progress: 3000 tests completed (3000 passed, 0 failed)\n✅ Progress: 4000 tests completed (4000 passed, 0 failed)\n✅ Progress: 5000 tests completed (5000 passed, 0 failed)\n✅ Progress: 6000 tests completed (6000 passed, 0 failed)\n✅ Progress: 7000 tests completed (7000 passed, 0 failed)\n✅ Progress: 8000 tests completed (8000 passed, 0 failed)\n📊 VALIDATION SUMMARY\n========================================\nTotal Tests:     8415\nPassed Tests:    8415 (100.0%)\nFailed Tests:    0 (0.0%)\n\n🎯 ACCURACY ANALYSIS (Passed Tests):\n   Average Absolute Error: CHF 0.02\n   Maximum Absolute Error: CHF 0.05\n   Average Relative Error: 0.0000%\n   Accuracy: 100.0000%\n\n🎉 ALL TESTS PASSED! 🎉\n\n🔧 ADDITIONAL TEST: AUTO-CALCULATION VALIDATION\n────────────────────────────────────────────────────────────\n⚡ QUICK AUTO-CALCULATION VALIDATION\n==================================================\nTesting auto-calculation scaling for CHF 1.5M property...\n✅ Auto-calculation scaling verification PASSED\n✅ Maintenance costs scale at 1.25% of purchase price\n✅ Down payments scale at 20% of purchase price\n✅ Parameter sweeps and max-bid calculations will work correctly\n\n✅ Auto-calculation systems validated successfully\n✅ Parameter sweeps and max-bid calculations will work correctly\n",
      "error": "",
      "startTime": "2025-08-09T23:32:24.552Z",
      "endTime": "2025-08-09T23:32:24.906Z"
    },
    {
      "name": "Auto-Calculation Consistency Test",
      "description": "Tests frontend auto-calculation consistency across realistic scenarios",
      "script": "test-auto-calculation-consistency.js",
      "timeout": 180000,
      "critical": true,
      "status": "PASSED",
      "exitCode": 0,
      "duration": 197,
      "output": "🔧 AUTO-CALCULATION CONSISTENCY TEST\n======================================================================\nTesting automatic parameter calculations across UI, backend, and sweeps\n\n",
      "error": "browserType.launch: Executable doesn't exist at /home/ubuntu/.cache/ms-playwright/chromium_headless_shell-1181/chrome-linux/headless_shell\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     npx playwright install                                              ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝\n    at AutoCalculationTester.runTests (/workspace/test-auto-calculation-consistency.js:257:40)\n    at Object.<anonymous> (/workspace/test-auto-calculation-consistency.js:377:12) {\n  name: 'Error'\n}\n",
      "startTime": "2025-08-09T23:32:24.906Z",
      "endTime": "2025-08-09T23:32:25.103Z"
    },
    {
      "name": "Realistic Parameter Validation",
      "description": "Tests realistic Swiss parameters with frontend-backend alignment",
      "script": "realistic-parameter-validation.js",
      "timeout": 120000,
      "critical": false,
      "status": "PASSED",
      "exitCode": 0,
      "duration": 196,
      "output": "🎯 REALISTIC PARAMETER VALIDATION TEST\n======================================================================\nTesting 5 realistic Swiss real estate scenarios\nComparing frontend UI calculations with backend validation\n\n",
      "error": "browserType.launch: Executable doesn't exist at /home/ubuntu/.cache/ms-playwright/chromium_headless_shell-1181/chrome-linux/headless_shell\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     npx playwright install                                              ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝\n    at RealisticParameterValidator.runValidationTests (/workspace/realistic-parameter-validation.js:167:40)\n    at Object.<anonymous> (/workspace/realistic-parameter-validation.js:261:15) {\n  name: 'Error'\n}\n",
      "startTime": "2025-08-09T23:32:25.103Z",
      "endTime": "2025-08-09T23:32:25.299Z"
    },
    {
      "name": "Backend Auto-Calculation Capabilities",
      "description": "Tests backend auto-calculation scaling and break-even finding",
      "script": "test-backend-auto-calculations.js",
      "timeout": 60000,
      "critical": true,
      "status": "PASSED",
      "exitCode": 0,
      "duration": 28,
      "output": "🚀 BACKEND AUTO-CALCULATION COMPREHENSIVE TEST\n======================================================================\nTesting backend auto-calculation capability for parameter sweeps\n\n🔧 BACKEND AUTO-CALCULATION SCALING TEST\n============================================================\n📊 BASE PARAMETERS:\n  Purchase Price: CHF 1,500,000\n  Monthly Rent: CHF 4,200\n  Mortgage Rate: 2.1%\n\n🔄 TESTING AUTO-CALCULATION SCALING:\n────────────────────────────────────────────────────────────────────────────────\nPrice (CHF)    | Down Payment  | Maintenance   | Amortization  | Decision\n────────────────────────────────────────────────────────────────────────────────\n1,200,000      | CHF 240,000   | CHF 15,000   | CHF 64,000     | BUY\n1,500,000      | CHF 300,000   | CHF 18,750   | CHF 80,000     | BUY\n1,800,000      | CHF 360,000   | CHF 22,500   | CHF 96,000     | BUY\n2,200,000      | CHF 440,000   | CHF 27,500   | CHF 117,333    | BUY\n────────────────────────────────────────────────────────────────────────────────\n\n✅ SCALING VERIFICATION:\n────────────────────────────────────────\n✅ All auto-calculated parameters scale correctly\n✅ Maintenance costs: 1.25% of purchase price\n✅ Down payment: 20% of purchase price\n✅ Amortization: 80% mortgage ÷ amortization years\n\n\n🎯 BREAK-EVEN PRICE FINDING TEST\n==================================================\n🔍 Finding break-even price with auto-calculated parameters...\n  Monthly Rent: CHF 4,500\n  Mortgage Rate: 2%\n  Term: 12 years\n\n🎯 Break-even found at iteration 6\n📊 BREAK-EVEN RESULTS:\n────────────────────────────────────────\nBreak-even Price:     CHF 6,442,189\nResult Value:         CHF 439.154\nAccuracy:             ±CHF 439.154\n\n🔧 AUTO-CALCULATED PARAMETERS AT BREAK-EVEN:\n  Down Payment:       CHF 1,288,438\n  Maintenance Costs:  CHF 80,527\n  Annual Amortization: CHF 343,583\n  Imputed Rental:     CHF 35,100\n\n✅ VERIFICATION:\n  Maintenance Rate:    1.250% ✅\n  Expected Rate:       1.250%\n  Auto-calc Working:   YES\n\n📋 COMPREHENSIVE TEST SUMMARY\n==================================================\nParameter Scaling:    ✅ PASSED\nBreak-even Finding:   ✅ PASSED\nOverall Result:       ✅ PASSED\n\n🎉 ALL BACKEND AUTO-CALCULATION TESTS PASSED!\n✅ Backend correctly handles auto-calculated parameters\n✅ Auto-calculations scale properly with purchase price changes\n✅ Break-even calculations work with auto-calculated maintenance costs\n✅ Swiss standard rates (1.25% maintenance, 20% down payment) are applied correctly\n",
      "error": "",
      "startTime": "2025-08-09T23:32:25.299Z",
      "endTime": "2025-08-09T23:32:25.327Z"
    },
    {
      "name": "Complete Auto-Calculation Test Suite",
      "description": "Comprehensive auto-calculation validation across all components",
      "script": "test-complete-auto-calculations.js",
      "timeout": 240000,
      "critical": true,
      "status": "FAILED",
      "exitCode": 1,
      "duration": 204,
      "output": "🎯 COMPLETE AUTO-CALCULATION TEST SUITE\n================================================================================\nComprehensive testing of automatic parameter calculations\nacross frontend UI, backend calculations, and parameter sweeps\n\n📱 PHASE 1: FRONTEND AUTO-CALCULATION CONSISTENCY\n────────────────────────────────────────────────────────────\n🔧 AUTO-CALCULATION CONSISTENCY TEST\n======================================================================\nTesting automatic parameter calculations across UI, backend, and sweeps\n\n❌ Frontend auto-calculation tests ERRORED: browserType.launch: Executable doesn't exist at /home/ubuntu/.cache/ms-playwright/chromium_headless_shell-1181/chrome-linux/headless_shell\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     npx playwright install                                              ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝\n\n🔧 PHASE 2: BACKEND AUTO-CALCULATION CAPABILITIES\n────────────────────────────────────────────────────────────\n🚀 BACKEND AUTO-CALCULATION COMPREHENSIVE TEST\n======================================================================\nTesting backend auto-calculation capability for parameter sweeps\n\n🔧 BACKEND AUTO-CALCULATION SCALING TEST\n============================================================\n📊 BASE PARAMETERS:\n  Purchase Price: CHF 1,500,000\n  Monthly Rent: CHF 4,200\n  Mortgage Rate: 2.1%\n\n🔄 TESTING AUTO-CALCULATION SCALING:\n────────────────────────────────────────────────────────────────────────────────\nPrice (CHF)    | Down Payment  | Maintenance   | Amortization  | Decision\n────────────────────────────────────────────────────────────────────────────────\n1,200,000      | CHF 240,000   | CHF 15,000   | CHF 64,000     | BUY\n1,500,000      | CHF 300,000   | CHF 18,750   | CHF 80,000     | BUY\n1,800,000      | CHF 360,000   | CHF 22,500   | CHF 96,000     | BUY\n2,200,000      | CHF 440,000   | CHF 27,500   | CHF 117,333    | BUY\n────────────────────────────────────────────────────────────────────────────────\n\n✅ SCALING VERIFICATION:\n────────────────────────────────────────\n✅ All auto-calculated parameters scale correctly\n✅ Maintenance costs: 1.25% of purchase price\n✅ Down payment: 20% of purchase price\n✅ Amortization: 80% mortgage ÷ amortization years\n\n\n🎯 BREAK-EVEN PRICE FINDING TEST\n==================================================\n🔍 Finding break-even price with auto-calculated parameters...\n  Monthly Rent: CHF 4,500\n  Mortgage Rate: 2%\n  Term: 12 years\n\n🎯 Break-even found at iteration 6\n📊 BREAK-EVEN RESULTS:\n────────────────────────────────────────\nBreak-even Price:     CHF 6,442,189\nResult Value:         CHF 439.154\nAccuracy:             ±CHF 439.154\n\n🔧 AUTO-CALCULATED PARAMETERS AT BREAK-EVEN:\n  Down Payment:       CHF 1,288,438\n  Maintenance Costs:  CHF 80,527\n  Annual Amortization: CHF 343,583\n  Imputed Rental:     CHF 35,100\n\n✅ VERIFICATION:\n  Maintenance Rate:    1.250% ✅\n  Expected Rate:       1.250%\n  Auto-calc Working:   YES\n\n📋 COMPREHENSIVE TEST SUMMARY\n==================================================\nParameter Scaling:    ✅ PASSED\nBreak-even Finding:   ✅ PASSED\nOverall Result:       ✅ PASSED\n\n🎉 ALL BACKEND AUTO-CALCULATION TESTS PASSED!\n✅ Backend correctly handles auto-calculated parameters\n✅ Auto-calculations scale properly with purchase price changes\n✅ Break-even calculations work with auto-calculated maintenance costs\n✅ Swiss standard rates (1.25% maintenance, 20% down payment) are applied correctly\n✅ Backend auto-calculation tests PASSED\n\n📊 OVERALL AUTO-CALCULATION ASSESSMENT\n============================================================\nTest Component                     | Status\n────────────────────────────────────────────────────────────\nFrontend UI Auto-Calculations      | ❌ FAILED\nBackend Parameter Scaling          | ✅ PASSED\nParameter Sweep Compatibility      | ✅ PASSED\nMax-Bid Calculation Support        | ✅ PASSED\n────────────────────────────────────────────────────────────\nOVERALL RESULT                     | ❌ FAILED\n\n⚠️ AUTO-CALCULATION SYSTEM ISSUES DETECTED\n\n❌ FRONTEND ISSUES:\n  ➤ Frontend error: browserType.launch: Executable doesn't exist at /home/ubuntu/.cache/ms-playwright/chromium_headless_shell-1181/chrome-linux/headless_shell\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     npx playwright install                                              ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝\n",
      "error": "",
      "startTime": "2025-08-09T23:32:25.328Z",
      "endTime": "2025-08-09T23:32:25.532Z"
    },
    {
      "name": "Equal-Savings Scenario Tests",
      "description": "Validates equal-savings toggle behavior and outputs",
      "script": "test-equal-savings.js",
      "timeout": 60000,
      "critical": true,
      "status": "PASSED",
      "exitCode": 0,
      "duration": 20,
      "output": "🔄 EQUAL-SAVINGS SCENARIO TESTS\n============================================================\nEqual-Consumption ResultValue: CHF 133894.07\nEqual-Savings ResultValue:     CHF -2305105.66\n✅ Equal-savings reduces TotalRentalCost and credits contributions\n",
      "error": "",
      "startTime": "2025-08-09T23:32:25.532Z",
      "endTime": "2025-08-09T23:32:25.552Z"
    },
    {
      "name": "Manual Moneyland Test Cases",
      "description": "Manually collected moneyland.ch scenarios validation",
      "script": "test-moneyland-manual-cases.js",
      "timeout": 120000,
      "critical": false,
      "status": "FAILED",
      "exitCode": 1,
      "duration": 32,
      "output": "🧪 MONEYLAND.CH MANUAL TEST CASES VALIDATION\n================================================================================\nComparing manually collected moneyland.ch scenarios with our calculator\n\n✅ Loaded 13 manual test cases from moneyland.ch\n\\n📋 TEST CASE 1: High-end property, 10-year term, 2% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 2,100,000\n  Down Payment: CHF 450,000 (21.4%)\n  Monthly Rent: CHF 5,500\n  Mortgage Rate: 2%\n  Term: 10 years\n  Property Appreciation: 1%\n  Investment Yield: 3%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 343,382.062\n  Moneyland.ch:      CHF 343,382.05\n  Difference:        CHF 0.012\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -88,488.349\n  Rent Total Cost:   CHF 254,893.713\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -88,488.35\n  Rent Total Cost:   CHF 254,893.7\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.001\n  Rent Cost Diff:    CHF 0.013\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 2: Mid-range property, 8-year term, 1.8% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 1,500,000\n  Down Payment: CHF 350,000 (23.3%)\n  Monthly Rent: CHF 2,875\n  Mortgage Rate: 1.8%\n  Term: 8 years\n  Property Appreciation: 1%\n  Investment Yield: 2.8%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 226,884.568\n  Moneyland.ch:      CHF 226,884.55\n  Difference:        CHF 0.018\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -228,649.555\n  Rent Total Cost:   CHF -1,764.987\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -228,649.55\n  Rent Total Cost:   CHF -1,765\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.005\n  Rent Cost Diff:    CHF 0.013\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 3: Luxury property, 15-year term, 2.3% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 4,500,000\n  Down Payment: CHF 1,200,000 (26.7%)\n  Monthly Rent: CHF 6,800\n  Mortgage Rate: 2.3%\n  Term: 15 years\n  Property Appreciation: 1%\n  Investment Yield: 4.7%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 99,991.825\n  Moneyland.ch:      CHF 99,991.8\n  Difference:        CHF 0.025\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -900,817.324\n  Rent Total Cost:   CHF -800,825.499\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -900,817.3\n  Rent Total Cost:   CHF -800,825.5\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.024\n  Rent Cost Diff:    CHF 0.001\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 4: Lower-end property, 11-year term, 1.7% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 800,000\n  Down Payment: CHF 200,000 (25.0%)\n  Monthly Rent: CHF 2,300\n  Mortgage Rate: 1.7%\n  Term: 11 years\n  Property Appreciation: 2.3%\n  Investment Yield: 6%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 232,084.002\n  Moneyland.ch:      CHF 232,084\n  Difference:        CHF 0.002\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -225,758.08\n  Rent Total Cost:   CHF 6,325.922\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -225,758.1\n  Rent Total Cost:   CHF 6,325.9\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.02\n  Rent Cost Diff:    CHF 0.022\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 5: Premium property, 10-year term, 1.68% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 2,000,000\n  Down Payment: CHF 400,000 (20.0%)\n  Monthly Rent: CHF 4,500\n  Mortgage Rate: 1.68%\n  Term: 10 years\n  Property Appreciation: 1.6%\n  Investment Yield: 3.5%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 434,240.401\n  Moneyland.ch:      CHF 434,240.4\n  Difference:        CHF 0.001\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -331,415.686\n  Rent Total Cost:   CHF 102,824.715\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -331,415.7\n  Rent Total Cost:   CHF 102,824.7\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.014\n  Rent Cost Diff:    CHF 0.015\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 6: Ultra-luxury property, 9-year term, 2.17% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 3,500,000\n  Down Payment: CHF 150,000 (4.3%)\n  Monthly Rent: CHF 6,367\n  Mortgage Rate: 2.17%\n  Term: 9 years\n  Property Appreciation: 2.1%\n  Investment Yield: 6%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 595,644.052\n  Moneyland.ch:      CHF 595,644.05\n  Difference:        CHF 0.002\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -68,635.207\n  Rent Total Cost:   CHF 527,008.846\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -68,635.2\n  Rent Total Cost:   CHF 527,008.85\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.007\n  Rent Cost Diff:    CHF 0.004\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 7: Modest property, 13-year term, 0.96% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 500,000\n  Down Payment: CHF 150,000 (30.0%)\n  Monthly Rent: CHF 1,500\n  Mortgage Rate: 0.96%\n  Term: 13 years\n  Property Appreciation: 2.1%\n  Investment Yield: 4.96%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 26,752.23\n  Moneyland.ch:      CHF 26,752.2\n  Difference:        CHF 0.03\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -15,902.465\n  Rent Total Cost:   CHF 10,849.765\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -15,902.45\n  Rent Total Cost:   CHF 10,849.75\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.015\n  Rent Cost Diff:    CHF 0.015\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 8: Super-luxury property, 16-year term, 1.34% mortgage rate - RENT scenario\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 8,500,000\n  Down Payment: CHF 2,500,000 (29.4%)\n  Monthly Rent: CHF 7,800\n  Mortgage Rate: 1.34%\n  Term: 16 years\n  Property Appreciation: 1.1%\n  Investment Yield: 4.8%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    RENT\n  Moneyland.ch:      RENT\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 367,717.422\n  Moneyland.ch:      CHF 367,717.45\n  Difference:        CHF 0.028\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -2,800,199.923\n  Rent Total Cost:   CHF -3,167,917.345\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -2,800,199.9\n  Rent Total Cost:   CHF -3,167,917.35\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.023\n  Rent Cost Diff:    CHF 0.005\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 9: High-end property, 14-year term, 0.96% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 2,500,000\n  Down Payment: CHF 650,000 (26.0%)\n  Monthly Rent: CHF 6,000\n  Mortgage Rate: 0.96%\n  Term: 14 years\n  Property Appreciation: 1.1%\n  Investment Yield: 6%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 578,909.322\n  Moneyland.ch:      CHF 578,909.3\n  Difference:        CHF 0.022\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -628,062.317\n  Rent Total Cost:   CHF -49,152.995\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -628,062.3\n  Rent Total Cost:   CHF -49,153\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.017\n  Rent Cost Diff:    CHF 0.005\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 10: Premium property, 10-year term, 1.27% mortgage rate\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 2,000,000\n  Down Payment: CHF 400,000 (20.0%)\n  Monthly Rent: CHF 5,487\n  Mortgage Rate: 1.27%\n  Term: 10 years\n  Property Appreciation: 1.64%\n  Investment Yield: 5%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 540,727.115\n  Moneyland.ch:      CHF 540,727.1\n  Difference:        CHF 0.015\n  Advantage Match:   ✅ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -338,468.599\n  Rent Total Cost:   CHF 202,258.516\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -338,468.6\n  Rent Total Cost:   CHF 202,258.5\n\nCost Differences:\n  Buy Cost Diff:     CHF 0.001\n  Rent Cost Diff:    CHF 0.016\n  Buy Cost Match:    ✅\n  Rent Cost Match:   ✅\n\n🎯 OVERALL ASSESSMENT: ✅ PASSED\n\\n📋 TEST CASE 11: CHF 2.75M property, 12-year term, 1.89% mortgage rate - BUY scenario\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 2,750,000\n  Down Payment: CHF 550,000 (20.0%)\n  Monthly Rent: CHF 7,600\n  Mortgage Rate: 1.89%\n  Term: 12 years\n  Property Appreciation: 2%\n  Investment Yield: 3.5%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      BUY\n  Decision Match:    ✅\n\nAdvantage Amount:\n  Our Calculator:    CHF 1,140,283.047\n  Moneyland.ch:      CHF 533,994.2\n  Difference:        CHF 606,288.847\n  Advantage Match:   ❌ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -636,970.809\n  Rent Total Cost:   CHF 503,312.238\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -1,267,788.8\n  Rent Total Cost:   CHF -733,794.6\n\nCost Differences:\n  Buy Cost Diff:     CHF 630,817.991\n  Rent Cost Diff:    CHF 1,237,106.838\n  Buy Cost Match:    ❌\n  Rent Cost Match:   ❌\n\n🎯 OVERALL ASSESSMENT: ❌ FAILED\n  Issues: Advantage amount mismatch, Buy cost mismatch, Rent cost mismatch\n\\n📋 TEST CASE 12: CHF 3M property, 21-year term, 1.89% mortgage rate - RENT scenario\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 3,000,000\n  Down Payment: CHF 600,000 (20.0%)\n  Monthly Rent: CHF 8,360\n  Mortgage Rate: 1.89%\n  Term: 21 years\n  Property Appreciation: 2%\n  Investment Yield: 3.5%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      RENT\n  Decision Match:    ❌\n\nAdvantage Amount:\n  Our Calculator:    CHF 2,226,209.052\n  Moneyland.ch:      CHF 762,354.2\n  Difference:        CHF 1,463,854.852\n  Advantage Match:   ❌ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -935,147.936\n  Rent Total Cost:   CHF 1,291,061.116\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -1,535,641.8\n  Rent Total Cost:   CHF -2,297,996\n\nCost Differences:\n  Buy Cost Diff:     CHF 600,493.864\n  Rent Cost Diff:    CHF 3,589,057.116\n  Buy Cost Match:    ❌\n  Rent Cost Match:   ❌\n\n🎯 OVERALL ASSESSMENT: ❌ FAILED\n  Issues: Decision mismatch, Advantage amount mismatch, Buy cost mismatch, Rent cost mismatch\n\\n📋 TEST CASE 13: CHF 3.5M property, 18-year term, 1.89% mortgage rate - RENT scenario\n──────────────────────────────────────────────────────────────────────\n📊 PARAMETERS:\n  Purchase Price: CHF 3,500,000\n  Down Payment: CHF 700,000 (20.0%)\n  Monthly Rent: CHF 9,200\n  Mortgage Rate: 1.89%\n  Term: 18 years\n  Property Appreciation: 2%\n  Investment Yield: 3.5%\n\n🔍 RESULTS COMPARISON:\n──────────────────────────────────────────────────\nDecision:\n  Our Calculator:    BUY\n  Moneyland.ch:      RENT\n  Decision Match:    ❌\n\nAdvantage Amount:\n  Our Calculator:    CHF 2,028,535.437\n  Moneyland.ch:      CHF 372,195.6\n  Difference:        CHF 1,656,339.837\n  Advantage Match:   ❌ (tolerance: CHF 1,000)\n\nTotal Costs (Our Calculator):\n  Buy Total Cost:    CHF -981,577.874\n  Rent Total Cost:   CHF 1,046,957.563\n\nTotal Costs (Moneyland.ch):\n  Buy Total Cost:    CHF -2,727,804.4\n  Rent Total Cost:   CHF -3,100,000\n\nCost Differences:\n  Buy Cost Diff:     CHF 1,746,226.526\n  Rent Cost Diff:    CHF 4,146,957.563\n  Buy Cost Match:    ❌\n  Rent Cost Match:   ❌\n\n🎯 OVERALL ASSESSMENT: ❌ FAILED\n  Issues: Decision mismatch, Advantage amount mismatch, Buy cost mismatch, Rent cost mismatch\n\\n\\n📊 MANUAL TEST CASES SUMMARY\n==================================================\nTotal Test Cases:     13\nOverall Passed:       10 (76.9%)\nDecision Matches:     11 (84.6%)\nAdvantage Matches:    10 (76.9%)\n\n🎯 ACCURACY ANALYSIS:\n──────────────────────────────\nAverage Advantage Diff: CHF 286,652.592\nMaximum Advantage Diff: CHF 1,656,339.837\nTolerance Used:         CHF 1,000\n\n❌ FAILED TESTS DETAILS:\n────────────────────────────────────────\n🔸 Test Case 11: CHF 2.75M property, 12-year term, 1.89% mortgage rate - BUY scenario\n   Decision: ✅ | Advantage: ❌ | Buy Cost: ❌ | Rent Cost: ❌\n   Advantage Diff: CHF 606,288.847\n\n🔸 Test Case 12: CHF 3M property, 21-year term, 1.89% mortgage rate - RENT scenario\n   Decision: ❌ | Advantage: ❌ | Buy Cost: ❌ | Rent Cost: ❌\n   Advantage Diff: CHF 1,463,854.852\n\n🔸 Test Case 13: CHF 3.5M property, 18-year term, 1.89% mortgage rate - RENT scenario\n   Decision: ❌ | Advantage: ❌ | Buy Cost: ❌ | Rent Cost: ❌\n   Advantage Diff: CHF 1,656,339.837\n\n🏁 FINAL ASSESSMENT:\n──────────────────────────────\n🚨 SIGNIFICANT DIFFERENCES DETECTED\n❌ Calculator results differ significantly from moneyland.ch\n🔧 Manual review and adjustments may be needed\n",
      "error": "",
      "startTime": "2025-08-09T23:32:25.552Z",
      "endTime": "2025-08-09T23:32:25.584Z"
    }
  ],
  "summary": {
    "total": 7,
    "passed": 5,
    "failed": 2,
    "errors": 0,
    "startTime": "2025-08-09T23:32:24.538Z",
    "endTime": "2025-08-09T23:32:25.584Z",
    "duration": 1046
  }
}
